<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>中国加油！</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.0.4/css/bootstrap-combined.min.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
        #pic1 {
            height: 100%;
            width: 100%;
            min-height: 150px;
        }
        .zc-ref {
            display: none;
        }
 
        zing-grid[loading] {
            height: 450px;
        }
    </style>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.0.4/css/bootstrap-responsive.min.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons 
    <link rel="shortcut icon" href="../assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
-->
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">2019-nCov Shanghai</a>
  <!--         <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#link1">Link 2</a></li>
              <li><a href="#link2">Link 3</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

      <h1>上海</h1>

    <div id="container" style="min-width: 400px; height: 400px; margin: 0 auto">
<div id="pic1" style="height: 300px">
    </div>
<div id="pic2">
    </div>
<table id="tbdetail" class="table">
<thead>
<tr>
<!--<th scope="col">日期</th>
<th scope="col">新增</th>
<th scope="col">确诊</th>
<th scope="col">疑似</th>
<th scope="col">排除疑似</th>
<th scope="col">治愈</th>
<th scope="col">死亡</th>-->
</tr> 
</thead>
<tbody>
<!-- <tr><th scope="row">1/20</td><td>6</td><td>6</td><td>3</td><td></td><td></td><td></td></tr>
<tr><th scope="row">1/21</td><td>3</td><td>9</td><td>10</td><td></td><td></td><td></td></tr>
<tr><th scope="row">1/22</td><td>7</td><td>16</td><td>22</td><td></td><td></td><td></td></tr>
<tr><th scope="row">1/23</td><td>4</td><td>20</td><td>34</td><td></td><td></td><td></td></tr>
<tr><th scope="row">1/24</td><td>13</td><td>33</td><td>72</td><td></td><td>1</td><td></td></tr>
<tr><th scope="row">1/25</td><td>7</td><td>40</td><td>95</td><td></td><td>1</td><td></td></tr>
<tr><th scope="row">1/26</td><td>13</td><td>53</td><td>90</td><td>57</td><td>1</td><td>1</td></tr>
<tr><th scope="row">1/27</td><td>13</td><td>66</td><td>129</td><td>75</td><td>3</td><td>1</td></tr>
<tr><th scope="row">1/28</td><td>14</td><td>80</td><td>167</td><td>99</td><td>4</td><td>1</td></tr>
<tr><th scope="row">1/29</td><td>21</td><td>101</td><td>180</td><td>145</td><td>5</td><td>1</td></tr>
<tr><th scope="row">1/30</td><td>27</td><td>128</td><td>164</td><td>225</td><td>5</td><td>1</td></tr>
<tr><th scope="row">1/31</td><td>25</td><td>153</td><td>167</td><td>296</td><td>9</td><td>1</td></tr>
<tr><th scope="row">2/1</td><td>24</td><td>177</td><td>168</td><td>374</td><td>10</td><td>1</td></tr>
<tr><th scope="row">2/2</td><td>16</td><td>193</td><td>173</td><td>449</td><td>10</td><td>1</td></tr>
<tr><th scope="row">2/3</td><td>15</td><td>208</td><td>168</td><td>523</td><td>10</td><td>1</td></tr>
<tr><th scope="row">2/4</td><td>25</td><td>233</td><td>194</td><td>585</td><td>12</td><td>1</td></tr>
<tr><th scope="row">2/5</td><td>22</td><td>254</td><td>196</td><td>664</td><td>15</td><td>1</td></tr>
<tr><th scope="row">2/6</td><td>3</td><td>257</td><td>238</td><td>676</td><td>25</td><td>1</td></tr> -->
</tbody></table>
    </div>


    ​
    <hr> 
	<footer class="footer">
	  <!--  <p class="pull-left">&copy; NetDNA 2012</p>
	   <p class="pull-right"><a href="#">Back to top</a></p> -->
	</footer>
    </div> <!--end container-->
    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>-->
    <link rel = "stylesheet" href = "https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <script src = "https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src = "https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <!-- <script type="text/javascript" src="https://rawgit.com/gionkunz/chartist-js/master/dist/chartist.js"></script>
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.0.4/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://rawgit.com/gionkunz/chartist-js/master/dist/chartist.min.css">
	<script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script> -->
    <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
     <script>

    $(document).ready(function() {
        var d = null;
        $.ajax({url: "http://zhuzisheng.github.io/shanghai.csv", 
                success: function(data) {
                            console.log("test");
                            d = data;;
                            },
                async: false});
        console.log(d);
   
        var lines = d.split("\n");
        var cols = lines[0].split(",");
        for(var i=0; i<cols.length; i++) {
            $("#tbdetail thead tr").append("<th scope=\"col\">" + cols[i] + "</th>");
        }
        for (var i=1; i<lines.length; i++) {
            var line = lines[i];
            var data = line.split(",");
            var l = "<tr>";
            for(var j=0; j<data.length; j++) {
                if(j===0) {
                    l += "<th scope=\"row\">" + data[j]  + "</th>";

                }else {
                    l += "<td>" + data[j]  + "</td>";
                } 
            }
            l += "</tr>"
            $("#tbdetail tbody").append(l);
        }
        sdata = [];
        sdata1 = [];
        sdata2 = [];
        for(var i=1; i<lines.length; i++) {
            var data = lines[i].split(',');
            if(data[0] != "") {
                var date = data[0].split('/');
                console.log(date);
                date = Date.UTC(2020, parseInt(date[0]) - 1, parseInt(date[1]))
                sdata.push([date, parseInt(data[1])]); 
                sdata1.push([date, parseInt(data[2])]);
                sdata2.push([date, parseInt(data[3])]);
            }
        }

        ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
        var myConfig = {
            "type": "line",
            "utc": true,
            "title": {
                "text": "Webpage Analytics",
                "font-size": "24px",
                "adjust-layout": true
            },
            "plotarea": {
                "margin": "dynamic 45 60 dynamic",
            },
            "legend": {
                "layout": "float",
                "background-color": "none",
                "border-width": 0,
                "shadow": 0,
                "align": "center",
                "adjust-layout": true,
                "toggle-action": "remove",
                "item": {
                    "padding": 7,
                    "marginRight": 17,
                    "cursor": "hand"
                }
            },
            "scale-x": {
                "min-value": 1383292800000,
                "shadow": 0,
                "step": 3600000,
                "transform": {
                    "type": "date",
                    "all": "%D, %d %M<br />%h:%i %A",
                    "guide": {
                        "visible": false
                    },
                    "item": {
                        "visible": false
                    }
                },
                "label": {
                    "visible": false
                },
                "minor-ticks": 0
            },
            "scale-y": {
                "line-color": "#f6f7f8",
                "shadow": 0,
                "guide": {
                    "line-style": "dashed"
                },
                "label": {
                    "text": "Page Views",
                },
                "minor-ticks": 0,
                "thousands-separator": ","
            },
            "crosshair-x": {
                "line-color": "#efefef",
                "plot-label": {
                    "border-radius": "5px",
                    "border-width": "1px",
                    "border-color": "#f6f7f8",
                    "padding": "10px",
                    "font-weight": "bold"
                },
                "scale-label": {
                    "font-color": "#000",
                    "background-color": "#f6f7f8",
                    "border-radius": "5px"
                }
            },
            "tooltip": {
                "visible": false
            },
            "plot": {
                "highlight": true,
                "tooltip-text": "%t views: %v<br>%k",
                "shadow": 0,
                "line-width": "2px",
                "marker": {
                    "type": "circle",
                    "size": 3
                },
                "highlight-state": {
                    "line-width": 3
                },
                "animation": {
                    "effect": 1,
                    "sequence": 2,
                    "speed": 100,
                }
            },
            "series": [{
                    "values": [
                        149.2,
                        174.3,
                        187.7,
                        147.1,
                        129.6,
                        189.6,
                        230,
                        164.5,
                        171.7,
                        163.4,
                        194.5,
                        200.1,
                        193.4,
                        254.4,
                        287.8,
                        246,
                        199.9,
                        218.3,
                        244,
                        312.2,
                        284.5,
                        249.2,
                        305.2,
                        286.1,
                        347.7,
                        278,
                        240.3,
                        212.4,
                        237.1,
                        253.2,
                        186.1,
                        153.6,
                        168.5,
                        140.9,
                        86.9,
                        49.4,
                        24.7,
                        64.8,
                        114.4,
                        137.4
                    ],
                    "text": "Pricing",
                    "line-color": "#007790",
                    "legend-item": {
                        "background-color": "#007790",
                        "borderRadius": 5,
                        "font-color": "white"
                    },
                    "legend-marker": {
                        "visible": false
                    },
                    "marker": {
                        "background-color": "#007790",
                        "border-width": 1,
                        "shadow": 0,
                        "border-color": "#69dbf1"
                    },
                    "highlight-marker": {
                        "size": 6,
                        "background-color": "#007790",
                    }
                },
                {
                    "values": [
                        714.6,
                        656.3,
                        660.6,
                        729.8,
                        731.6,
                        682.3,
                        654.6,
                        673.5,
                        700.6,
                        755.2,
                        817.8,
                        809.1,
                        815.2,
                        836.6,
                        897.3,
                        896.9,
                        866.5,
                        835.8,
                        797.9,
                        784.7,
                        802.8,
                        749.3,
                        722.1,
                        688.1,
                        730.4,
                        661.5,
                        609.7,
                        630.2,
                        633,
                        604.2,
                        558.1,
                        581.4,
                        511.5,
                        556.5,
                        542.1,
                        599.7,
                        664.8,
                        725.3,
                        694.2,
                        690.5
                    ],
                    "text": "Documentation",
                    "line-color": "#009872",
                    "legend-item": {
                        "background-color": "#009872",
                        "borderRadius": 5,
                        "font-color": "white"
                    },
                    "legend-marker": {
                        "visible": false
                    },
                    "marker": {
                        "background-color": "#009872",
                        "border-width": 1,
                        "shadow": 0,
                        "border-color": "#69f2d0"
                    },
                    "highlight-marker": {
                        "size": 6,
                        "background-color": "#009872",
                    }
                },
                {
                    "values": [
                        536.9,
                        576.4,
                        639.3,
                        669.4,
                        708.7,
                        691.5,
                        681.7,
                        673,
                        701.8,
                        636.4,
                        637.8,
                        640.5,
                        653.1,
                        613.7,
                        583.4,
                        538,
                        506.7,
                        563.1,
                        541.4,
                        489.3,
                        434.7,
                        442.1,
                        482.3,
                        495.4,
                        556.1,
                        505.4,
                        463.8,
                        434.7,
                        377.4,
                        325.4,
                        351.7,
                        343.5,
                        333.2,
                        332,
                        378.9,
                        415.4,
                        385,
                        412.6,
                        445.9,
                        441.5
                    ],
                    "text": "Support",
                    "line-color": "#da534d",
                    "legend-item": {
                        "background-color": "#da534d",
                        "borderRadius": 5,
                        "font-color": "white"
                    },
                    "legend-marker": {
                        "visible": false
                    },
                    "marker": {
                        "background-color": "#da534d",
                        "border-width": 1,
                        "shadow": 0,
                        "border-color": "#faa39f"
                    },
                    "highlight-marker": {
                        "size": 6,
                        "background-color": "#da534d",
                    }
                }
            ]
        };
 
        zingchart.render({
            id: 'pic1',
            data: myConfig,
            height: '100%',
            width: '100%'
        });
    }); 
    
	</script


  </body>
</html>
